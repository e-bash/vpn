# Инструкция по настройке собственного VPN-сервера за 5 минут
Эта инструкция предназначена для тех, кто хочет оставаться на связи в заблокированных соцсетях, а также иметь доступ более-менее реальной информации, которая не испорчена российской пропагандой и не похожа на произведения Оруэла. 
Самый простой способ сейчас - купить подписку на платные VPN-сервисы. Бесплатными пользоваться КРАЙНЕ НЕ РЕКОМЕНДУЮ, т.к. от них можно получить огромную кучу проблем.
Я, например, использую платный сервис [HideMyName](https://hidemy.name/#62399142d25c7).
У платных сервисов есть, как преимущества, так и недостатки.
Преимущества платных сервисов VPN:
- Простота установки и настройки - свои приложения для различных устройств и платформ.
- Возможность выбора страны и города расположения сервера VPN
- Как правило, с одним аккаунтом можно пользоваться с нескольких устройств.
Недостатки платных сервисов VPN:
- Платный, хотя это так себе недостаток - есть за что заплатить.
- Российские власти активно борются с VPN-сервисами и многие уже заблокированы в России, т.е. есть вероятность того, что просто потеряете свои деньги, если сервис заблокируют.
- Хоть сервисы и заявляют, что не сохраняют ваши данные и никому их не передадут, в т.ч. по запросу правоохранительных органов, гарантировать на 100% этого нельзя.
- Учитывая то, что сервисом пользуется помимо вас, еще много человек, может страдать скорость доступа.

В этой статье я постараюсь максимально подробно и пошагово объяснить, как сделать собственный VPN-сервис, который будет также работать на всех устройствах и платформах, при этом вы будете на 100% уверены, что ваши данные никуда не попадут без вашего на то желания. Это будет ваш личный VPN-сервис и пользоваться им будете только вы, либо те, комы вы сами предоставите доступ.
# Несколько важных моментов:
- Эта инструкция про IT, а не про нарушение законодательства
- Использовать любой VPN, будь то сомнительный бесплатный, платный, либо собственный, для противоправных действий нельзя, т.к. хоть речь и пойдет про серверы в иностранных юрисдикциях, которые в текущих реалиях вряд ли пойдут навстречу российским правоохранительным органам, но все же, это не про анонимность, а про обход блокировок. Анонимность достигается за счёт немного других средств и не относится к теме данной статьи.

Итак, поехали!
Весь процесс состоит из 5 простых шагов:
1. Аренда сервера (VPS)
2. Скачивание необходимых приложений
3. Подключение к серверу и настройка сервиса VPN
4. Добавление пользователей VPN
5. Подключение к VPN.


Для настройки своего собственного сервиса VPN нам необходимо арендовать сервер с операционной системой Linux в любом дата-центре, расположенном в той стране, в которой не заблокированы необходимые нам сайты и сервисы. Это услуга VPS. До недавнего времени многие российские провайдеры, оказывающие подобную услугу, имели возможность предоставлять серверы на зарубежных площадках. Я, например, долгое время пользовался сервисом https://ruvds.com/pr3383. Сейчас, к сожалению, такой возможности нет. Следовательно, необходимо использовать зарубежные сервисы. Здесь, к сожалению, мы сталкиваемся с очередным ограничением - оплатить услугу российскими картами VISA, MasterCard, а также Мир, в текущих реалиях не получится. На помощь приходит платежная система UnionPay, которой пока еще можно оплатить услуги на зарубежных сайтах. Самый быстрый, простой и дешевый способ, на мой взгляд, это выпустить виртуальную карту в приложении Почта-Банка. Если у вас нет счета в данном банке, то можно бесплатно открыть сберегательный счет (не карту, а сберегательный счет) в любом отделении, а затем уже в приложении выпустить виртуальную карту UnionPay. В итоге вы получите номер карты и все необходимые реквизиты, включая CVC-код, необходимый для онлайн-оплаты покупок. Обслуживание этой карты и счета бесплатно, для открытия нужен только паспорт. Процедура открытия занимает 5 минут. К еще одному сожалению, то, что говорят, что UnionPay очень распространенная система, онлайн ее принимают мало где и найти сервис, предлагающий в аренду серверы, при этом, принимающий к оплате UnionPay - та еще задача. К PayPal у меня тоже не получилось её привязать. Я нашел сервис BlueVPS. Если найдете какие-то еще, пишите, пожалуйста, в комментариях.
https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-18-04-ru
1. Арендованый сервер с Linux 
В связи с блокировкой множества информационных ресурсов, а токже соцсетей в России
Арендовать сервер в Европе и оплатить с помощью UnionPay можно по ссылке https://bit.ly/ServerForVPN

apt update && apt upgrade -y && apt install curl -y && curl -fsSL https://get.docker.com -o get-docker.sh && sh ./get-docker.sh && systemctl enable docker && systemctl start docker && docker pull kylemanna/openvpn && docker volume create --name openvpn && docker run -v openvpn:/etc/openvpn --rm kylemanna/openvpn ovpn_genconfig -u udp://$(curl -4 icanhazip.com) && docker run -v openvpn:/etc/openvpn --rm -it kylemanna/openvpn ovpn_initpki nopass && docker run -v openvpn:/etc/openvpn -d -p 1194:1194/udp --cap-add=NET_ADMIN kylemanna/openvpn

VPN_USER="user123" && docker run -v openvpn:/etc/openvpn --rm -it kylemanna/openvpn easyrsa build-client-full $VPN_USER && docker run -v openvpn:/etc/openvpn --rm kylemanna/openvpn ovpn_getclient $VPN_USER > $VPN_USER.ovpn

pscp.exe root@45.135.165.143:/root/*.ovpn .


